<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<div class="campaign-details-container">
  <!-- Campaign Image -->
  <div class="campaign-image">
    <img [src]="getImagePath('assets/' + campaign?.Campaign_Image)" alt="{{ campaign?.Campaign_Name }} Image" class="campaign-image">
  </div>
  
  <!-- Campaign Information -->
  <div class="campaign-info">
    <h2 class="campaign-title">{{ campaign?.Campaign_Name }}</h2>
    <p class="campaign-target">Target Fund: ${{ campaign?.Campaign_TargetFund | number:'1.2-2' }}</p>
    <p class="campaign-raised">Currently Raised: ${{ campaign?.Campaign_CurrentRaised | number:'1.2-2' }}</p>
    <p class="campaign-start-end">Campaign Period: {{ campaign?.Campaign_Start | date: 'longDate' }} - {{ campaign?.Campaign_End | date: 'longDate' }}</p>
    <p class="campaign-description">{{ campaign?.Campaign_Description }}</p>

   <!-- Like/Reaction Button -->
    <div class="like-section">
      <button class="like-button" (click)="toggleLike()">
        <i [class]="hasLiked ? 'fas fa-thumbs-up' : 'far fa-thumbs-up'"></i>
        {{ likeCount }} {{ likeCount === 1 ? 'Like' : 'Likes' }}
      </button>
    </div>
    
     <!-- Comment Section -->
     <div class="comment-section">
      <h3>Comments</h3>
    
      <!-- Display Comments -->
      <div class="comment" *ngFor="let comment of comments">
        <p><img [src]=" 'http://localhost:4000/assets/' + comment.userimage" alt="{{ comment.acc_firstname }}" style="width: 40px; height: 40px; border-radius: 50%; margin-right: 10px;"><strong>{{ comment.userfname }} {{ comment.userlname }}</strong>: {{ comment.Comment_Text }}</p>
      </div>
    
      <!-- Add New Comment -->
      <div class="add-comment">
        <input type="text" [(ngModel)]="newComment.Comment_Text" placeholder="Add a comment..." />
        <button (click)="addComment()">Submit</button>
      </div>
    </div>

    <!-- Button Container for Donate and Back Buttons -->
    <div class="button-container">
      <button class="donate-button">Donate Now</button>
      <button class="back-button" (click)="goBack()">Back</button>
    </div>

    <div class="button-container">
      <!-- Facebook Icon as a Button -->
      <button class="icon-button" (click)="shareToFacebook(getCampaignUrl())">
        <i class="fab fa-facebook-f"></i>
      </button>

      <!-- Twitter Icon as a Button -->
      <button class="icon-button" (click)="shareToTwitter(getCampaignUrl())">
        <i class="fab fa-twitter"></i>
      </button>

      <!-- Instagram Icon as a Button -->
      <button class="icon-button" (click)="shareToInstagram(getCampaignUrl())">
        <i class="fab fa-instagram"></i>
      </button>
    </div>
  </div>
</div>

<style>
  /* Button container styling */
  .button-container {
    display: flex;
    gap: 20px; /* Space between buttons */
    margin-top: 20px; /* Add space above the buttons */
  }

  .back-button {
    background-color: #007bff;
    color: white;
    font-size: 1.2em;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  button {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 5px;
  }

  button.share-facebook {
    background-color: #3b5998;
  }

  button.share-twitter {
    background-color: #55acee;
  }

  button.share-instagram {
    background-color: #e4405f;
  }

  .icon-button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    font-size: 2em;
    color: #555;
  }

  .icon-button:hover {
    color: #000;
  }

  .fab {
    margin-right: 10px;
  }

  .back-button:hover {
    background-color: #0056b3;
  }

  .campaign-details-container {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: auto;
    max-width: 1200px;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    background-color: #fff;
  }

  .campaign-image img {
    width: 350px;
    height: auto;
    border-radius: 10px;
    margin-right: 50px;
  }

  .campaign-info {
    max-width: 600px;
  }

  .campaign-title {
    font-size: 2.5em;
    font-weight: bold;
    margin-bottom: 20px;
    color: #333;
  }

  .campaign-target, 
  .campaign-raised, 
  .campaign-start-end {
    font-size: 1.5em;
    color: #28a745;
    margin-bottom: 10px;
  }

  .campaign-description {
    font-size: 1.2em;
    line-height: 1.6;
    color: #555;
    margin-bottom: 30px;
  }

  .donate-button {
    background-color: #28a745;
    color: white;
    font-size: 1.2em;
    padding: 15px 30px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .donate-button:hover {
    background-color: #218838;
  }

  .like-section {
    margin-top: 20px;
  }

  .like-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px;
    font-size: 1em;
    cursor: pointer;
    border-radius: 5px;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .like-button i {
    font-size: 1.5em;
  }

  .comment-section {
    margin-top: 40px;
  }

  .comment-section h3 {
    font-size: 1.5em;
    margin-bottom: 20px;
  }

  .comment {
    background-color: #f9f9f9;
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 10px;
  }

  .add-comment {
    display: flex;
    gap: 10px;
    margin-top: 20px;
  }

  .add-comment input {
    flex: 1;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
  }

  .add-comment button {
    padding: 10px 20px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  .add-comment button:hover {
    background-color: #218838;
  }
</style>